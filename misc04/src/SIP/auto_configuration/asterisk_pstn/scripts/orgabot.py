#!/usr/bin/python

"""
Example to get and set variables via AGI.

You can call directly this script with AGI() in Asterisk dialplan.
"""

flags={'team00': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_C071C556}', 'team01': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_C070B533}', 'team02': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_E2F61A9A}', 'team03': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_57DD8656}', 'team04': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_23108C06}', 'team05': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_9B7A915C}', 'team06': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_BCB7ACE2}', 'team07': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_442DDA99}', 'team08': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_6F6E5FB4}', 'team09': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_52D39E18}', 'team10': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_25BCD521}', 'team11': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_E0C90192}', 'team12': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_295A6D4A}', 'team13': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_AAE12494}', 'team14': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_30978EFF}', 'team15': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_9472B989}', 'team16': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_18B77B62}', 'team17': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_99D46F58}', 'team18': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_E3D7D829}', 'team19': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_0F8C5522}', 'team20': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_5BDA68AB}', 'team21': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_A44C36A0}', 'team22': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_0B086FB0}', 'team23': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_59768368}', 'team24': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_232FF716}', 'team25': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_17CD9A3A}', 'team26': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_A51493AB}', 'team27': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_6E46CFCE}', 'team28': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_D16EA765}', 'team29': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_718F9B0D}', 'team30': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_DE3EFEFB}', 'team31': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_1C1D1667}', 'team32': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_8B87E9F6}', 'team33': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_9460C6C9}', 'team34': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_85D65052}', 'team35': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_39C4A823}', 'team36': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_746E48D7}', 'team37': 'ECSC{JUS7_D0NT_G0_4ROUND_M3SS1NG_W1TH_P30PLE5_PHON3S_N0W!_FF129580}'}

from asterisk.agi import *

agi = AGI()

agi.answer()

phone_exten = agi.get_variable('CALLERID(num)')

if(phone_exten not in flags.keys()):
    agi.stream_file("/sounds/other/error_flag")
else:
    agi.stream_file("/sounds/other/flag")
    agi.say_alpha(flags[phone_exten])

agi.hangup()